
15
AWS X-Ray Service Integration and Supported Languages
AWS X-Ray
Amazon EC2
AWS Lambda
Amazon API Gateway
Elastic Load Balancing
AWS Elastic Beanstalk
Amazon EventBridge
Amazon SNS
Amazon SQS
C#
Go
Java
Node.js
Python
Ruby
AWS X-Ray provide integration with the following AWS Services –
• Amazon EC2
• AWS Lambda
• Amazon API Gateway
• Elastic Load Balancing
• AWS Elastic Beanstalk
• Amazon Event Bridge
• Amazon SNS
• and, Amazon SQS
AWS X-Ray supports applications in the following languages –
• C#
• Go
• Java
• Node.js
• Python
• Ruby
6
AWS X-Ray - Concepts
Segments and
Subsegments Service Graph and
traces
Sampling and Tracing
Header
Filter expressions and
Groups
Errors, faults, and
exceptions
Annotations and
metadata
Now let us explore the concepts around AWS X-Ray.
Some of the concepts related to AWS X-Ray are –
1. Segments and Subsegments
2. Service Graph and Traces
3. Sampling and Tracing Header
4. Filter expressions and Groups
5. Errors, faults, and exceptions
6. Annotations and metadata
Let us explore these concepts in detail.
7
AWS X-Ray - Concepts
Segments and
Subsegments
Segments –
• Data sent by compute resources running the application logic
to X-Ray.
• Provides details such as resource’s name, details about the
request etc.,
Subsegments –
• A broken-down piece of a segment.
• Provides more granular timing information and details about
downstream calls
First are Segments and Subsegments.
The data being sent by the compute resources running your application logic
to X-Ray are known as segments.
Segments provides details such as resource’s name, details about the
request, and details about the work done.
Segments can be broken-down and are known as subsegments.
Subsegments can provide more granular timing information and details about
downstream calls that your application made to fulfill the original request sent
to X-Ray.
8
AWS X-Ray - Concepts
Service Graph
and traces
Service graphs –
• Data from applications sent to X-Ray is used to generate a
service graph.
• AWS resource sending data to X-Ray appear as a service in the
graph.
• It is a JSON document containing information bout the services
and resources that make up your application
Traces –
• A Trace is responsible for collecting all the segments generated
by a single request.
• The Trace ID tracks the path of a request through your
application
Next is Service Graphs and Traces.
Services graphs are generated by X-Ray by using the data sent to it from
applications.
AWS Resources sending data to X-Ray appear as a service in the graph.
Service graph is a JSON document which contains the information about the
service and resources that make up your application
Traces in X-Ray are responsible for collecting all the segments generated by a single
request.
The Trace ID in X-Ray tracks the path of a request through your application
9
AWS X-Ray - Concepts
Sampling and
Tracing Header
Sampling–
• To determine which requests gets traced, X-Ray SDK applies a
s a mpling algorithm.
• This ensures efficient tracing and provide a representative
sample of the requests that the application serves
Tracing Header –
• A Header added in the HTTP requests – ‘X-Amzn-Trace-Id’.
• The sampling decision and trace ID are added to HTTP requests
in this Header
Next concept is Sampling and Tracing Header
To determine which requests are traced, Amazon X-Ray SDK applies a
sampling algorithm.
This ensures efficient tracing.
Tracing Headers are headers added in the HTTP requests as shown.
The sampling decision and the trace ID are added to this header.
10
AWS X-Ray - Concepts
Filter expressions
and Groups
Filter Expressions–
• Filter expressions are used for advanced tracing to drill down to
traces for individual requests.
• This allows to find traces related to specific path or user.
Groups–
• Groups feature an extension of filter expressions, supported by
X-Ray.
• By using filter expressions, criteria's can be defined to accept
which traces into a group
Next concepts are Filter expressions and Groups.
Filter expressions are used for tracing of the service graph, to drill down traces
for individual requests.
This allows to find traces related to a specific path or user.
Groups are an extension of filter expressions, and is a features supported by
X-Ray.
Using Filter expressions, criteria’s can be defined to accept which traces into a
group.
11
AWS X-Ray - Concepts
Errors, faults,
and exceptions
Errors, Faults, and Exceptions–
• X-Ray can track the errors happening in your applications code,
and errors being returned by downstream services.
• Errors are categorized as –
• E rror – Client Errors (400 series error)
• F a ult – Server Faults (500 series error)
• T hrottle – Throttling Errors (429 Too many Requests)
Next is Errors, Faults and Exceptions.
AWS X-Ray can track the errors happening in your application code, and the
errors being returned by the downstream services.
The errors can be categorized as –
Error
Fault and Throttle
12
AWS X-Ray - Concepts
Annotations
and metadata
Annotations and Metadata–
• AWS X-Ray records information about incoming and
outgoing requests.
• An notations are simple key-value pairs.
• It is indexed for use with filter expressions.
• Met adata are not indexed and are key-value pair with
values of any type.
The next concept is Annotations and Metadata.
When you instrument an application using X-Ray, it records information about
the incoming and outgoing requests, the AWS resources used and the
application itself.
Annotation are simple key-value pairs indexed to be used with filter
expressions.
Metadata are not indexed and are key-value pairs with any type of values.
13
How to manage AWS X-Ray?
AWS Management Console AWS CLI X-Ray API AWS SDKs
AWS X-Ray
You can choose to use and manage AWS X-Ray either through the –
AWS Management Console
AWS Command Line Interface Tool
X-Ray API or
Through an AWS SDK of choice
14
You have learnt
Features of
AWS X-Ray
What is
AWS X-Ray
AWS X-Ray use
cases
Concepts and service
integrations of AWS X-Ray
So, to conclude, In this module you have learnt about –
1. What is AWS X-Ray Service ?
2. What are the features of AWS X-Ray
3. Use cases of AWS X-Ray
4. Service Integrations and, the concepts related to the usage of AWS X-Ray
service.
15